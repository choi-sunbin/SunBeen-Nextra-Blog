# ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜

## ì¿ ë²„ë„¤í‹°ìŠ¤ ê¸°ë³¸ êµ¬ì¡°

```
ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” í´ëŸ¬ìŠ¤í„° ë‹¨ìœ„ë¡œ ì„¤ì¹˜ëœë‹¤.
ê° ë…¸ë“œì— ë°°í¬ëœ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ì»¨í…Œì´ë„ˆë¥¼ í†µì œí•˜ê³  ì‹¤í–‰í•œë‹¤.
ì „ì²´ ì‹œìŠ¤í…œì„ ìë™í™”í•˜ëŠ” ë¶„ì‚° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ í”Œë«í¼ì´ë‹¤.

1. ì¿ ë²„ë„¤í‹°ìŠ¤(Kubernetes)
		â””â”€ ë¶„ì‚° ì‹œìŠ¤í…œ ì „ì²´ë¥¼ ì•„ìš°ë¥´ëŠ” "ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ í”Œë«í¼"
2. í´ëŸ¬ìŠ¤í„°(Cluster)
		â””â”€ ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ ê´€ë¦¬í•˜ëŠ” "ë…¼ë¦¬ì  í•˜ë‚˜ì˜ ë‹¨ìœ„"
		â””â”€ í•˜ë‚˜ì˜ í´ëŸ¬ìŠ¤í„° = í•˜ë‚˜ì˜ ì¿ ë²„ë„¤í‹°ìŠ¤ ìš°ì£¼
3. ë§ˆìŠ¤í„° ë…¸ë“œ + ì›Œì»¤ ë…¸ë“œ
		â”œâ”€ ë§ˆìŠ¤í„° ë…¸ë“œ (Control Plane): ì§€íœ˜ì, ì§€ì‹œ ë‚´ë¦¼
		â””â”€ ì›Œì»¤ ë…¸ë“œ (Worker Node): ì‹¤ì œ ì»¨í…Œì´ë„ˆ ì‹¤í–‰, ì¼ê¾¼
4. ê° ë…¸ë“œì—ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ì„¤ì¹˜ë¨
		â””â”€ kubelet, kube-proxy, container runtime ë“±
5. ì´ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ì»¨í…Œì´ë„ˆ í™˜ê²½ì„ ì¡°ì„±í•¨
		â””â”€ ì»¨í…Œì´ë„ˆëŠ” Podë¡œ ê°ì‹¸ì ¸ ì‹¤í–‰ë¨ (ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ìµœì†Œ ë‹¨ìœ„)
6. ì „ì²´ê°€ í†µí•©ë˜ì–´ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ê°€ ë™ì‘í•¨

[ ì¿ ë²„ë„¤í‹°ìŠ¤ ]
       â”‚
       â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ í´ëŸ¬ìŠ¤í„° 1 â”‚ â—€â”€â”€ ê°€ì¥ í° ë‹¨ìœ„
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€ ğŸ“¡ ë§ˆìŠ¤í„° ë…¸ë“œ
       â”‚     â””â”€ API Server, Scheduler, etcd, ...
       â”‚
       â”œâ”€â”€ ğŸ§± ì›Œì»¤ ë…¸ë“œ 1
       â”‚     â””â”€ kubelet, kube-proxy, container runtime
       â”‚
       â””â”€â”€ ğŸ§± ì›Œì»¤ ë…¸ë“œ 2 ...

```

## ì„¤ì¹˜ ìˆœì„œ

- Vagrant ì„¤ì¹˜
- Virtual Boxì„¤ì¹˜
- Script íŒŒì¼ ì‹¤í–‰ â†’ ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜ ì™„ë£Œ
- MobaXtermì„ í™•ì¸í•´ì„œ
- ì›ê²©ì ‘ì†
- Kubernates Pods ìƒíƒœí™•ì¸
- ëŒ€ì‹œë³´ë“œ ì ‘ì†

## VirtualBox Rocky Linux ìƒì„±

![image.png](./image.png)

![image.png](./image%201.png)

![image.png](./image%202.png)

- config.vm.box = "rockylinux/8"
  - "Rocky linux 8 ì„¤ì¹˜" - ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ì‹œê°„ ê±¸ë¦¼
- config.vm.define "master-node" do |master|
  - Virtual ë°•ìŠ¤ VMì˜ ì´ë¦„ì„ "master-node"ë¡œ ì„¤ì •
- master.vm.hostname = "k8s-master"
  - Hostname ì„¤ì • : k8s-maste
- master.vm.network "private_network", ip: "192.168.56.30"
  - private_network : Host Only Network ì„¤ì •
    - Host Only Network : ë‚´ PCì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë„¤íŠ¸ì›Œí¬ ë§
  - ip: "192.168.56.30" ë¦¬ëˆ…ìŠ¤ì˜ IP ì„¤ì •
- ìì› í• ë‹¹
  - vb.memory = **4096 (ë©”ëª¨ë¦¬)**
    - **ì»´í“¨í„° ìì› 16g ì—ì„œ 4g í• ë‹¹ ë°›ì•„ ì‚¬ìš©**
  - vb.cpus = **4 (CPU 4 core) ì‚¬ìš©**
    - CPUëŠ” í•„ìš”í•œ ìˆœê°„ ìì›ì„ ê°€ì ¸ì™€ ì‚¬ìš©í•˜ëŠ” ì²˜ë¦¬ í”„ë¡œì„¸ì„œ
    - ì‹¤ì œë¡œëŠ” **í˜¸ìŠ¤íŠ¸ì˜ CPUë¥¼ ê³µìœ **í•˜ë¯€ë¡œ, ë™ì¼í•œ 4ì½”ì–´ë¥¼ ì‚¬ìš©í•´ë„ í•­ìƒ 4ì½”ì–´ë¥¼ ì ìœ í•˜ì§€ ì•ŠìŒ
    - ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ê¶Œê³  í•˜ëŠ” ìµœì†Œ CPU í• ë‹¹ëŸ‰ì€ 2 ì½”ì–´ì´ìƒ

### NAT (Network Address Translation)

- Vagrantê°€ VMì„ ìƒì„±í•˜ë©´ ê¸°ë³¸ìœ¼ë¡œ NAT ë„¤íŠ¸ì›Œí¬ë¥¼ ì„¤ì •í•¨
- VMì´ ì¸í„°ë„·(ì™¸ë¶€)ê³¼ í†µì‹  ê°€ëŠ¥í•˜ê²Œ í•´ì¤Œ
- **ì˜ˆ: íŒ¨í‚¤ì§€ ì„¤ì¹˜, yum update, containerd, kubeadm ë‹¤ìš´ë¡œë“œ ì‹œ ì‚¬ìš©ë¨**

## Kubernates Cluster ì„¤ì¹˜

ì—¬ëŸ¬ ê°€ì§€ ë°©ë²•ì´ ìˆì§€ë§Œ, **Kubeadm**ì„ ì´ìš©í•œë‹¤.

**ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ë¹ ë¥´ê²Œ ì„¤ì¹˜(bootstrap)** í•˜ê¸° ìœ„í•œ **ê³µì‹ ì„¤ì¹˜ ë„êµ¬**

### ê³µì‹ ë¬¸ì„œ

[https://kubernetes.io/ko/docs/setup/production-environment/tools/kubeadm/install-kubeadm/](https://kubernetes.io/ko/docs/setup/production-environment/tools/kubeadm/install-kubeadm/)

![image.png](./image%203.png)

í•„ìš” ì¤€ë¹„ ì‚¬í•­

- ë°ë¹„ì•ˆ ê¸°ë°˜ Linux ë¨¸ì‹  or ë ˆë“œí–‡ ê¸°ë°˜ Linux ë¨¸ì‹ 
- 2 GB Ram ì´ìƒ
- 2 Core CPU ì´ìƒ
- ê°ê°ì˜ ì›Œì»¤ ë…¸ë“œì˜ ê³ ìœ ì„±
  - ì—¬ëŸ¬ ì›Œì»¤ ë…¸ë“œë¥¼ êµ¬ì„±í• ë•Œ : VM ìœ¼ë¡œ ì›Œì»¤ë…¸ë“œë¥¼ ë§Œë“¤ì–´ ë³µì‚¬í•´ì„œ ëŠ˜ë ¤ ì‚¬ìš©í•˜ê¸°ë„ í•¨
  - ê¸°ë³¸ ì„¸íŒ…ì„ í• ë•ŒëŠ” ë˜‘ê°™ìœ¼ë‹ˆê¹Œ VM ë³µì‚¬ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸°ë„ í•˜ì§€ë§Œ ì´ë•Œ ê³ ìœ í•œ ì†ì„±(Mac ì£¼ì†Œ, í˜¸ìŠ¤íŠ¸ ì´ë¦„, product_uuid)ë“±ê¹Œì§€ ê·¸ëŒ€ë¡œ ë³µì‚¬í•˜ê±°ë‚˜ ìƒˆë¡œ ë¶€ì—¬í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì´ ì¡´ì¬
  - ê³ ìœ  ì†ì„±ê¹Œì§€ ë³µì‚¬í•˜ë©´ ì˜¤ë¥˜ê°€ ë‚œë‹¤.
- ì¿ ë²„ë„¤í‹°ìŠ¤ êµ¬ì„±ë“¤ ë¼ë¦¬ ì„œë¡œ í†µì‹ í•  ëª©ì ì˜ íŠ¹ì • í¬íŠ¸ë¥¼ ê°œë°©í•´ì•¼í•œë‹¤.
  - ë°©í™”ë²½ ìì²´ë¥¼ ë‚´ë ¤ë²„ë¦¬ë©´, ì–´ë– í•œ í¬íŠ¸ë„ ë§‰íˆì§€ ì•ŠëŠ”ë‹¤. (êµìœ¡ ëª©ì )
- ìŠ¤ì™‘ ë¹„í™œì„±í™”
  - ìŠ¤ì™‘ : RAMì´ ë¶€ì¡±í•  ë•Œ ë””ìŠ¤í¬ ê³µê°„ ì¼ë¶€ë¥¼ ì„ì‹œ ë©”ëª¨ë¦¬ì²˜ëŸ¼ ì‚¬ìš©í•˜ëŠ” ê¸°ìˆ 

ì„œë¡œ ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì´ ë˜ì–´ìˆì–´ì•¼ëœë‹¤.

### **ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜(ëª¨ë“  node)**

- [1] rocky linux ê¸°ë³¸ ì„¤ì •:
  - íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸
  - íƒ€ì„ì¡´ ì„¤ì •
- [2] kubeadm ì„¤ì¹˜ ì „ ì‚¬ì „ ì‘ì—…
  - ë°©í™”ë²½ í•´ì œ (port ì‹ ê²½ X)
  - ìŠ¤ì™‘ ë¹„í™œì„±í™” (ë©”ëª¨ë¦¬ ì¶©ëŒ ë°©ì§€)
- [3] ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ì„¤ì¹˜
  - [3-1] ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ì„¤ì¹˜ ì „ ì‚¬ì „ì‘ì—…:
    - iptables ì„¸íŒ…
    - cgroup ë“œë¼ì´ë²„ ì„¤ì • (Default ì‚¬ìš©)
  - [3-2] ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ì„¤ì¹˜ (containerd ì„¤ì¹˜)
    - [3-2-1] containerd íŒ¨í‚¤ì§€ ì„¤ì¹˜ (option2)
      - [3-2-1-1] docker engine ì„¤ì¹˜: repo ì„¤ì •, containerd ì„¤ì¹˜
  - [3-3] ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„: cri í™œì„±í™”
- [4] kubeadm ì„¤ì¹˜
  - ì„¤ì •
    - repo ì„¤ì •
    - SELinux ì„¤ì •
  - íŒ¨í‚¤ì§€ ì„¤ì¹˜
    - kubelet
    - kubeadm
    - kubectl

### **Master node ì„¸íŒ…**

- [5] kubeadm ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„° ìƒì„±
  - [5-1] í´ëŸ¬ìŠ¤í„° ì´ˆê¸°í™” (Pod Network ì„¸íŒ…)
  - [5-2] kubectl ì‚¬ìš© ì„¤ì •
  - [5-3] CNI Plugin ì„¤ì¹˜ (calico)
  - [5-4] Masterì— Podë¥¼ ìƒì„± í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •
- [6]Â ì¿ ë²„ë„¤í‹°ìŠ¤ í¸ì˜ ê¸°ëŠ¥ ì„¤ì¹˜
  - [6-1] kubectl ìë™ì™„ì„± ê¸°ëŠ¥
  - [6-2] Dashboard ì„¤ì¹˜
  - [6-3] Metrics Server ì„¤ì¹˜

### cgroup (control groups)

- ë¦¬ëˆ…ìŠ¤ì—ì„œ **CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬, ë„¤íŠ¸ì›Œí¬ ë“±ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ í”„ë¡œì„¸ìŠ¤ ë‹¨ìœ„ë¡œ ì œì–´**í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥
- ì»¨í…Œì´ë„ˆë„ ê²°êµ­ ë¦¬ëˆ…ìŠ¤ í”„ë¡œì„¸ìŠ¤ì´ë¯€ë¡œ, **ì¿ ë²„ë„¤í‹°ìŠ¤ì™€ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì€ cgroupì„ í†µí•´ ë¦¬ì†ŒìŠ¤ë¥¼ ì œí•œí•¨**
- ì¿ ë²„ë„¤í‹°ìŠ¤ë‘ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì„ ì„¤ì¹˜í•  ë•Œ **ë™ì¼ ì„¤ì •**í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤.

### cgroup ë“œë¼ì´ë²„ë€?

> ëˆ„ê°€ ì´ cgroup ê¸°ëŠ¥ì„ **ê´€ë¦¬í•˜ê³  ì¶”ì í• ì§€ ì„ íƒí•˜ëŠ” ê²ƒ**

| ë“œë¼ì´ë²„ ì´ë¦„ | ì„¤ëª…                                                                        |
| ------------- | --------------------------------------------------------------------------- |
| `cgroupfs`    | ë…ë¦½ì ìœ¼ë¡œ cgroupì„ ì œì–´ (Dockerì˜ ê¸°ë³¸ ì„¤ì •)                               |
| `systemd`     | systemd(ë¦¬ëˆ…ìŠ¤ ì„œë¹„ìŠ¤ ë§¤ë‹ˆì €)ê°€ cgroupì„ ê´€ë¦¬í•¨ (ìµœê·¼ ì¿ ë²„ë„¤í‹°ìŠ¤ ê¶Œì¥ ë°©ì‹) |

- ìµœê·¼ **ì¿ ë²„ë„¤í‹°ìŠ¤ ê³µì‹ ê°€ì´ë“œë„ `systemd`ë¥¼ ê¶Œì¥**í•©ë‹ˆë‹¤
- íŠ¹íˆ Ubuntu, CentOS, RockyLinux ë“± systemd ê¸°ë°˜ì´ë©´ ê±°ì˜ í•„ìˆ˜

### containerd ì„¤ì¹˜

ê³µì‹ Github :

[https://github.com/containerd/containerd/blob/main/docs/getting-started.md](https://github.com/containerd/containerd/blob/main/docs/getting-started.md)

![image.png](./image%204.png)

- ë°©ë²• 1 : ê³µì‹ ë°”ì´ë„ˆë¦¬ë¥¼ ë°›ì•„ì„œ ì„¤ì¹˜í•˜ê¸°
  **Option 1: From the official binaries**
- ë‹¤ìš´ë¡œë“œ :
  - `containerd-<VERSION>-<OS>-<ARCH>.tar.gz`Â archive from
  - [https://github.com/containerd/containerd/releases](https://github.com/containerd/containerd/releases)
    - ì•„ì¹´ì´ë¸Œí•œ Containerdë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ëŠ”ë‹¤.
- ì£¼ì˜ì‚¬í•­ :
  - Typically, you will have to installÂ [runc](https://github.com/opencontainers/runc/releases)Â andÂ [CNI plugins](https://github.com/containernetworking/plugins/releases)Â from their official sites too.
    - runCì™€ CNIëŠ” ë³„ë„ë¡œ ì„¤ì¹˜ í•´ì•¼ëœë‹¤.

---

- ë°©ë²• 2 : **`apt-get`Â orÂ `dnf` ì„ ì´ìš©í•˜ì—¬ ë‹¤ìš´ë¡œë“œ ë°›ê¸°**
  **Option 2: FromÂ `apt-get`Â orÂ `dnf`**
- TheÂ `containerd.io`Â packages in DEB and RPM formats are distributed by Docker (not by the containerd project)
  - Dockerì—ì„œ ì œê³µí•˜ëŠ” Containerd.ioë¥¼ ì‚¬ìš©í•˜ê¸°

ë„ì»¤ë¥¼ ì„¤ì¹˜ ë° ì‚¬ìš©ì—ëŠ” Containerdì™€ runC í•„ìš”

High Level ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ì—”ì§„ì¸ ì‚¬ìš©ì ì¹œí™”ì ì¸ Docker ë¬¸ì„œ í™•ì¸í•˜ë©´ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ì´ ì¡´ì¬

ì¼ë‹¨ containerd.ioë§Œ ì„¤ì¹˜ ì˜ˆì •

### Docker ë¥¼ ì´ìš©í•´ Containerd ì„¤ì¹˜

URL : [https://docs.docker.com/engine/install/centos/](https://docs.docker.com/engine/install/centos/)

![image.png](./image%205.png)

![image.png](./image%206.png)

containerd ì„¤ì¹˜ë¥¼ ìœ„í•´

```
//Containerd.io ì„¤ì¹˜ (ìµœì‹  ë²„ì „)

sudo dnf install containerd.io
```

### containerd í˜¸í™˜ì„± ì²´í¬

Kubernates 1.2.7ë²„ì „ì„ ì‚¬ìš©í•œë‹¤ê³  í•˜ë©´,

1.7.0+, 1.6.15+ ë²„ì „ì„ ì´ìš©í•˜ë©´ ëœë‹¤.

[https://github.com/containerd/containerd/blob/main/RELEASES.md](https://github.com/containerd/containerd/blob/main/RELEASES.md)

![image.png](./image%207.png)

ë¬´ì¡°ê±´ì ìœ¼ë¡œ 1.7.0ë²„ì „ì„ ì„ íƒí•˜ëŠ”ê²ƒì´ ì•„ë‹ˆë¼,

í˜„ì¬ (2025.05.21) ìµœì‹  ê¸°ìˆ ë“¤ì„ ê¼­ ì‚¬ìš©í•´ì•¼ ë˜ëŠ”ê²Œ ì•„ë‹ˆë¼ë©´, ê¸°ì¤€ LTSë¥¼ í™•ì¸í•˜ê³  ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ì¢‹ì€ë°

- 1.6 LTS
- 1.7 LTS

ìƒíƒœ ì´ê¸° ë•Œë¬¸ì— 1.7 ë²„ì „ì„ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤.

í•˜ì§€ë§Œ, ê°•ì˜ë¡œëŠ” 1.6ë²„ì „ì„ ì‚¬ìš©í•˜ê³ ìˆìœ¼ë‹ˆ 1.6.21 ë²„ì „ì„ ì‚¬ìš©í•  ì˜ˆì •ì´ë‹¤.

![image.png](./image%208.png)

## ë§ˆìŠ¤íŠ¸ ë…¸íŠ¸ ì„¤ì¹˜

### **Master node ì„¸íŒ…**

- [5] kubeadm ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„° ìƒì„±
  - [5-1] í´ëŸ¬ìŠ¤í„° ì´ˆê¸°í™” (Pod Network ì„¸íŒ…)
  - [5-2] kubectl ì‚¬ìš© ì„¤ì •
  - [5-3] CNI Plugin ì„¤ì¹˜ (calico)
  - [5-4] Masterì— Podë¥¼ ìƒì„± í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •
- [6]Â ì¿ ë²„ë„¤í‹°ìŠ¤ í¸ì˜ ê¸°ëŠ¥ ì„¤ì¹˜
  - [6-1] kubectl ìë™ì™„ì„± ê¸°ëŠ¥
  - [6-2] Dashboard ì„¤ì¹˜
  - [6-3] Metrics Server ì„¤ì¹˜

![image.png](./image%209.png)

**ì¶”ê°€ì„¤ëª…**

[5-1]Â **Pod Network**Â ì„¸íŒ… :Â **cidrë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ip ëŒ€ì—­ì„ ì§€ì •**í•  ìˆ˜ ìˆë‹¤

ex - cidr: 20.96.0.0/12 â†’ 20.96.0.1(App1) ~ 20.111.255.254(App2), ì•½ 100ë§Œê°œ ì´ìƒ

[5-2]Â **kubectl**Â **ì‚¬ìš©**Â ì„¤ì •

- ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜ê°€ ëë‚˜ë©´Â **ì¿ ë²„ë„¤í‹°ìŠ¤ì— ì ‘ì†í•  ìˆ˜ ìˆëŠ” ì¸ì¦ì„œ**ê°€ ë§Œë“¤ì–´ì ¸ ìˆë‹¤
- ì´ ì¸ì¦ì„œë¥¼ ê°€ì ¸ì™€ì„œÂ **kubectlì´ ì‚¬ìš©**í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•˜ëŠ” ê²ƒ
- ê·¸ëŸ¬ë©´Â **kubectlë¡œ kube-apiserver**ì— API ë¥¼ ë‚ ë¦¬ë©´ì„œÂ **CLI í†µì‹ **ì„ í•  ìˆ˜ ìˆê²Œ ëœë‹¤

[5-3]Â **CNI Plugin ì„¤ì¹˜**

- **CRI: ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±**í•˜ê³ Â **ê´€ë¦¬**í•˜ëŠ” ë¶€ë¶„ì— ìˆì–´ì„œÂ **ì¿ ë²„ë„¤í‹°ìŠ¤ì™€ ëŸ°íƒ€ì„ê°„ ì¸í„°í˜ì´ìŠ¤**
- **CNI(Container Network Interface)**
  - **ì»¨í…Œì´ë„ˆë“¤ê°„ í†µì‹ ì„ ê´€ë¦¬**í•˜ëŠ” ë¶€ë¶„ì— ëŒ€í•œÂ **ì¿ ë²„ë„¤í‹°ìŠ¤ì™€ ë„¤íŠ¸ì›Œí¬ê°„ì˜ ì¸í„°í˜ì´ìŠ¤**
    - **calico : ë„¤íŠ¸ì›Œí¬ë¥¼ ì œê³µí•˜ëŠ” ì—¬ëŸ¬ ì†”ë£¨ì…˜ ì¤‘ í•˜ë‚˜**
- **iptables ì„¸íŒ…**: í˜„ì¬ Linuxì— í• ë‹¹ëœ ë„¤íŠ¸ì›Œí¬(192.168.56.30)ê°€ ìˆê³ , ì´ ë„¤íŠ¸ì›Œí¬ê°€ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ Pod Networkë¡œ ì—°ê²°ì´ ë˜ë ¤ë©´ iptablesë¥¼ í†µê³¼í•´ì•¼ í•˜ê³ , ì´ ê³¼ì •ì—ì„œ ë¬¸ì œê°€ ì—†ë„ë¡ ì„¤ì •ì„ í•˜ëŠ” ê²ƒì„
- Dashboardë¥¼ ì„¤ì¹˜í•˜ë©´ ìë™ìœ¼ë¡œ Pod networkë¡œ ë¶€í„° ipê°€ í• ë‹¹

  1.Â ë¸Œë¼ìš°ì €ì—ì„œ Linux ip:30000 ìœ¼ë¡œ ì ‘ì†

  2.Â ì´ íŠ¸ë˜í”½ì€ ë¦¬ëˆ…ìŠ¤ì˜Â **iptablesë¥¼ ê±°ì³ì„œ calicoì˜ ë„¤íŠ¸ì›Œí¬ ë§**ìœ¼ë¡œ ë“¤ì–´ê°„ë‹¤

  3.Â ì´ ë§ ë‚´ì—ì„œ Dashboard IPë¥¼ ì°¾ëŠ”ë‹¤

  4.Â **iptablesë¥¼ í™•ì¸í•´ë³´ë©´ ip:30000ê³¼ dashboard ipê°€ ë§¤í•‘**ë˜ì–´ ìˆìŒ

[5-4]: Master ì— Podë¥¼ ìƒì„±í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë¶€ë¶„

- kubeadmì—ì„œ ìƒì„±ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ë“¤ì´ë‚˜ ëŒ€ì‹œë³´ë“œëŠ” ì´Â **Podë“¤ì´ Masterì— ì˜¬ë¼ê°€ë„ ë˜ë„ë¡ ê¸°ë³¸ ì„¸íŒ…**ì´ ë˜ì–´ ìˆìŒ
- **ì¼ë°˜ì ìœ¼ë¡œëŠ” Masterì—ëŠ” User Podë¥¼ ì˜¬ë¦¬ì§€ ì•ŠëŠ”ê²Œ ì •ì„**
- ê·¸ëŸ¬ë‚˜ ìš°ë¦¬ëŠ” Masterë§Œ ë§Œë“¤ê±°ê¸° ë•Œë¬¸ì—Â **App1ê³¼ App2ê°€ Master nodeì— Podê°€ ìƒì„±ë  ìˆ˜ ìˆë„ë¡ ì„¤ì •**ì„ í•´ ì¤˜ì•¼ í•œë‹¤

[6-3] Metrics Server ì„¤ì¹˜

- **ì»¨í…Œì´ë„ˆì— ëŒ€í•œ CPU, Memory**ëŠ” ì»¨í…Œì´ë„ˆÂ **ëŸ°íƒ€ì„ì— ì˜í•´ ê¸°ë³¸ì ìœ¼ë¡œ ê´€ë¦¬**ê°€ ë˜ê³  ìˆìŒ
- ê·¸ë˜ì„œÂ **Metrics Serverë¥¼ ì„¤ì¹˜**í•˜ë©´Â **ì´ ì •ë³´ë¥¼ ì¡°íšŒ**í•˜ì—¬ Dashboardì— CPUì™€ ë©”ëª¨ë¦¬ ì •ë³´ê°€ í‘œì‹œëœë‹¤
